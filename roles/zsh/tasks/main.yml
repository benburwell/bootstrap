---
- package:
    name: zsh
    state: present
  become: ansible_pkg_mgr != "homebrew"
- template:
    src: zshrc
    dest: ~/.zshrc
- file:
    path: ~/.zsh
    state: directory
- file:
    path: ~/.zsh/functions
    state: directory
- copy:
    src: '{{item}}'
    dest: '~/.zsh/{{item}}'
  loop:
    - aliases.zsh
    - completion.zsh
    - config.zsh
    - env.zsh
    - path.zsh
    - prompt.zsh
    - window.zsh
- copy:
    src: 'func_{{item}}.zsh'
    dest: '~/.zsh/functions/{{item}}.zsh'
  loop:
    - dirty
    - ebdeploy
    - ec2
    - ghclone
    - git-branches
    - prs
    - rfc
    - rp
    - sheb
    - track
