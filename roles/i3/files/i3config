# vim: ft=i3 expandtab:

set $mod Mod1
font pango:Roboto 12
exec --no-startup-id compton
exec --no-startup-id randombg

new_window none
gaps inner 8
gaps outer 4
smart_gaps on

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec alacritty
bindsym $mod+f exec firefox

# get a password
bindsym $mod+Shift+p exec passman

# kill focused window
bindsym $mod+Shift+q kill

# start dmenu (a program launcher)
bindsym $mod+d exec dmenu_run -fn "Roboto" -nb "#0e2133" -nf "#fff9e9" -sb "#7390bf" -sf "#0e2133"

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# move window around
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# switch workspaces
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9

# move to workspaces
bindsym $mod+Shift+1 move workspace 1; workspace 1
bindsym $mod+Shift+2 move workspace 2; workspace 2
bindsym $mod+Shift+3 move workspace 3; workspace 3
bindsym $mod+Shift+4 move workspace 4; workspace 4
bindsym $mod+Shift+5 move workspace 5; workspace 5
bindsym $mod+Shift+6 move workspace 6; workspace 6
bindsym $mod+Shift+7 move workspace 7; workspace 7
bindsym $mod+Shift+8 move workspace 8; workspace 8
bindsym $mod+Shift+9 move workspace 9; workspace 9

# use a specific split vertical/horizontal
# | = 51
# - = 20
bindcode $mod+51 split h
bindcode $mod+20 split v

# change current layout
bindsym $mod+s layout stacking
bindsym $mod+p layout toggle split

# resize window
bindsym $mod+Shift+a mode "resize"
mode "resize" {
  # let the upper left be the "origin", so movements toward upper left
  # are shrinking movements, and movements away from upper left are growing
  bindsym h resize shrink width 5 px or 5 ppt
  bindsym l resize grow width 5 px or 5 ppt
  bindsym k resize shrink height 5 px or 5 ppt
  bindsym j resize grow height 5 px or 5 ppt

  # enter and escape to return to normal mode
  bindsym Escape mode "default"
  bindsym Return mode "default"
  bindsym $mod+Shift+a mode "default"
}

# special keys
bindsym XF86MonBrightnessUp exec sudo ~/.bin/brightness.sh +10
bindsym XF86MonBrightnessDown exec sudo ~/.bin/brightness.sh -10
bindsym XF86AudioRaiseVolume exec amixer -c 0 set Master 2db+
bindsym XF86AudioLowerVolume exec amixer -c 0 set Master 2db-
bindsym XF86AudioMute exec amixer set Master toggle

# major actions
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exit
bindsym $mod+Shift+d exec i3lock-fancy -- scrot -z
bindsym $mod+Shift+f fullscreen

bar {
  position top
  colors {
    background #0e2133
    focused_workspace  #0e2133 #0e2133 #e6e0cf
    active_workspace   #0e2133 #0e2133 #e6e0cf
    inactive_workspace #0e2133 #0e2133 #5c7b99
    urgent_workspace   #df6a6a #df6a6a #0e2133
  }
  status_command SCRIPT_DIR=~/code/src/github.com/vivien/i3blocks-contrib i3blocks
  i3bar_command i3bar
}
